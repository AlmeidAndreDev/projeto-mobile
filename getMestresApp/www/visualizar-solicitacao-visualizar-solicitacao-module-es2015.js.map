{"version":3,"sources":["./src/app/visualizar-solicitacao/visualizar-solicitacao.page.html","./src/app/visualizar-solicitacao/visualizar-solicitacao.module.ts","./src/app/visualizar-solicitacao/visualizar-solicitacao.page.scss","./src/app/visualizar-solicitacao/visualizar-solicitacao.page.ts","./src/services/base.service.ts"],"names":[],"mappings":"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","file":"visualizar-solicitacao-visualizar-solicitacao-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"ion-text-center\\\" color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Visualizar Solicitação</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"section\\\">\\n    <div id=\\\"map\\\" class=\\\"map\\\"></div>\\n  </div>\\n  <ion-list>\\n    <ion-item-divider>\\n      <ion-label>Solicitação</ion-label>\\n    </ion-item-divider>\\n    <ion-item>\\n      <ion-label>\\n        <h2>Título</h2>\\n        <p>{{order?.title}}</p>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label class=\\\"ion-text-wrap\\\">\\n        <h2>Descrição</h2>\\n        <p>{{order?.description}}</p>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>\\n        <h2>Categoria</h2>\\n        <p>{{order?.subCategory?.name}}</p>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item-divider>\\n      <ion-label>Respostas</ion-label>\\n    </ion-item-divider>\\n    <ion-item *ngFor=\\\"let item of anwsers\\\">\\n      <ion-label>\\n        <h2>{{item.question.question}}</h2>\\n        <p>{{item.answer}}</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <div class=\\\"ion-padding\\\" *ngIf=\\\"view === 'disponiveis' && order?.statusOrder === 1\\\">\\n    <ion-button (click)=\\\"accept()\\\" expand=\\\"block\\\" fill=\\\"solid\\\">\\n      Aceitar\\n    </ion-button>\\n  </div>\\n  <div class=\\\"ion-padding\\\" *ngIf=\\\"order?.statusOrder === 2\\\">\\n    <ion-button color=\\\"secondary\\\" (click)=\\\"done()\\\" expand=\\\"block\\\" fill=\\\"solid\\\">\\n      Finalizar\\n    </ion-button>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VisualizarSolicitacaoPage } from './visualizar-solicitacao.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VisualizarSolicitacaoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [VisualizarSolicitacaoPage]\n})\nexport class VisualizarSolicitacaoPageModule {}\n","module.exports = \"ion-item-divider {\\n  background: #f2f2f2;\\n}\\n\\nion-label h2 {\\n  color: var(--ion-color-primary);\\n}\\n\\n.section {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.map {\\n  height: 30vh;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlzdWFsaXphci1zb2xpY2l0YWNhby9DOlxcYW5kcmVcXGZhY3VsZGFkZVxcY2VsdWxhclxcZ2V0bWVzdHJlcy1tYXN0ZXJcXGdldG1lc3RyZXMtbWFzdGVyXFxnZXRNZXN0cmVzQXBwL3NyY1xcYXBwXFx2aXN1YWxpemFyLXNvbGljaXRhY2FvXFx2aXN1YWxpemFyLXNvbGljaXRhY2FvLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdmlzdWFsaXphci1zb2xpY2l0YWNhby92aXN1YWxpemFyLXNvbGljaXRhY2FvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0FDQ0Y7O0FEQ0E7RUFDRSwrQkFBQTtBQ0VGOztBRENBO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0FDRUY7O0FEQ0E7RUFDRSxZQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC92aXN1YWxpemFyLXNvbGljaXRhY2FvL3Zpc3VhbGl6YXItc29saWNpdGFjYW8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW0tZGl2aWRlciB7XG4gIGJhY2tncm91bmQ6ICNmMmYyZjI7XG59XG5pb24tbGFiZWwgaDIge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuXG4uc2VjdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi5tYXAge1xuICBoZWlnaHQ6IDMwdmg7XG59IiwiaW9uLWl0ZW0tZGl2aWRlciB7XG4gIGJhY2tncm91bmQ6ICNmMmYyZjI7XG59XG5cbmlvbi1sYWJlbCBoMiB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5zZWN0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuLm1hcCB7XG4gIGhlaWdodDogMzB2aDtcbn0iXX0= */\"","import { AlertService } from './../../services/alert.service';\nimport { Component, OnInit } from '@angular/core';\nimport { IOrders } from '../../interfaces/IOrders';\nimport { IOrderAnwsers } from '../../interfaces/IOrderAnwsers';\nimport { ActivatedRoute } from '@angular/router';\nimport { OrderService } from '../../services/order.service';\nimport { NavController } from '@ionic/angular';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-visualizar-solicitacao',\n  templateUrl: './visualizar-solicitacao.page.html',\n  styleUrls: ['./visualizar-solicitacao.page.scss'],\n})\nexport class VisualizarSolicitacaoPage implements OnInit {\n\n  order: IOrders;\n  anwsers: IOrderAnwsers[] = [];\n  map;\n  view: string;\n\n  constructor(\n    private active: ActivatedRoute,\n    private orderSrv: OrderService,\n    private alertSrv: AlertService,\n    private navCtrl: NavController\n  ) { }\n\n  ngOnInit() {\n    this.active.params.subscribe(p => this.getOrder(p.id));\n    this.active.queryParams.subscribe(p => this.view = p['view'] || 'disponives');\n  }\n\n  async getOrder(uid: string) {\n    const orderResult = await this.orderSrv.GetById(uid);\n    if (orderResult.success) {\n      this.order = orderResult.data as IOrders;\n      const geo: number[] = this.order.longlat.split(';').map(x => parseFloat(x));\n      this.populateMap(geo[1], geo[0]);\n    }\n\n    const anwsersResult = await this.orderSrv.getAllAnwsers(uid);\n    if (anwsersResult.success) {\n      this.anwsers = anwsersResult.data as IOrderAnwsers[];\n    }\n  }\n\n  populateMap(lat: number, lng: number) {\n    const point = { lat, lng };\n    const start = { lat: -34.397, lng: 150.644 };\n    this.map = new google.maps.Map(document.getElementById('map'), {\n      center: start,\n      zoom: 15,\n      disableDefaultUI: true,\n    });\n    setTimeout(() => {\n      this.map.setCenter(point);\n      const maker = new google.maps.Marker({\n        position: point,\n        map: this.map\n      });\n    }, 1000);\n  }\n\n  async accept() {\n    const { success, data } = await this.orderSrv.accpet(this.order.uid);\n    if (success) {\n      this.alertSrv.toast(data.message);\n      this.navCtrl.pop();\n    }\n  }\n\n  async done() {\n    const { success, data } = await this.orderSrv.done(this.order.uid);\n    if (success) {\n      this.alertSrv.toast(data.message);\n      this.navCtrl.pop();\n    }\n  }\n\n}\n","import { environment } from './../environments/environment';\nimport { HttpService } from './../services/http.service';\nimport { IResultHttp } from '../interfaces/IResultHttp';\n\nexport abstract class BaseService<T> {\n\n  urlBase: string = '';\n\n  constructor(\n    public url: string,\n    public http: HttpService) {\n    this.urlBase = `${environment.url_api}/${this.url}`;\n  }\n\n  public GetAll(): Promise<IResultHttp> {\n    return this.http.get(this.urlBase);\n  }\n\n  public GetById(uid: string): Promise<IResultHttp> {\n    return this.http.get(`${this.urlBase}/${uid}`);\n  }\n\n  public post(model: T): Promise<IResultHttp> {\n    return this.http.post(this.urlBase, model);\n  }\n\n  public put(model: T, uid: string): Promise<IResultHttp> {\n    return this.http.put(`${this.urlBase}/${uid}`, model);\n  }\n\n  public delete(uid: string): Promise<IResultHttp> {\n    return this.http.delete(`${this.urlBase}/${uid}`);\n  }\n\n}"],"sourceRoot":""}